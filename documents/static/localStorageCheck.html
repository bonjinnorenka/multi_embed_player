<!doctype html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>
<script>
    (async function(){
        let data;
        try{
            data = (await(await fetch(`${location.origin}/no_extention.json`)).json())["extention_status"];
        }
        catch{
            data = {extention_status:false};
        }
        try{
            localStorage.setItem('test key', 'test value');
            window.parent.postMessage({main:'can use localStorage',extention:data,localStorageUsable:true}, '*');
        }
        catch{
            console.log("localstorage error");
            window.parent.postMessage({main:'error on use localStorage',extention:data,localStorageUsable:false}, '*');
        }
    })();
</script>
</body>
</html>